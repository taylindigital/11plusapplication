{"version":3,"file":"isCosmosEndpoint.js","sourceRoot":"","sources":["../../../src/utils/isCosmosEndpoint.ts"],"names":[],"mappings":"AAAA,uCAAuC;AACvC,kCAAkC;AAElC,MAAM,UAAU,gBAAgB,CAAC,GAAW;;IAC1C,MAAM,SAAS,GAAG,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC;IAC/B,IAAI,SAAS,CAAC,QAAQ,CAAC,OAAO,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC;QAC1D,OAAO,IAAI,CAAC;IACd,CAAC;IAED,IAAI,SAAS,CAAC,QAAQ,CAAC,OAAO,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC;QACxD,OAAO,IAAI,CAAC;IACd,CAAC;IAED,2CAA2C;IAC3C,IACE,CAAC,SAAS,CAAC,QAAQ,KAAK,WAAW,IAAI,SAAS,CAAC,QAAQ,KAAK,WAAW,CAAC;QAC1E,SAAS,CAAC,QAAQ,CAAC,UAAU,CAAC,mBAAmB,CAAC,EAClD,CAAC;QACD,OAAO,KAAK,CAAC;IACf,CAAC;IAED,MAAM,eAAe,GAAG,MAAA,MAAA,OAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,GAAG,0CAAE,gBAAgB,0CAAE,KAAK,CAAC,GAAG,CAAC,CAAC;IACnE,IAAI,CAAA,eAAe,aAAf,eAAe,uBAAf,eAAe,CAAG,CAAC,CAAC,KAAI,SAAS,CAAC,QAAQ,CAAC,QAAQ,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QAC5E,OAAO,KAAK,CAAC;IACf,CAAC;IAED,IAAI,SAAS,CAAC,QAAQ,KAAK,WAAW,EAAE,CAAC;QACvC,OAAO,IAAI,CAAC;IACd,CAAC;IAED,OAAO,KAAK,CAAC;AACf,CAAC","sourcesContent":["// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT License.\n\nexport function isCosmosEndpoint(url: string): boolean {\n  const parsedURL = new URL(url);\n  if (parsedURL.hostname.indexOf(\".table.cosmosdb.\") !== -1) {\n    return true;\n  }\n\n  if (parsedURL.hostname.indexOf(\".table.cosmos.\") !== -1) {\n    return true;\n  }\n\n  // Azurite emulator IP-style URL for table?\n  if (\n    (parsedURL.hostname === \"localhost\" || parsedURL.hostname === \"127.0.0.1\") &&\n    parsedURL.pathname.startsWith(\"/devstoreaccount1\")\n  ) {\n    return false;\n  }\n\n  const azuriteAccounts = process?.env?.AZURITE_ACCOUNTS?.split(\":\");\n  if (azuriteAccounts?.[0] && parsedURL.hostname.includes(azuriteAccounts[0])) {\n    return false;\n  }\n\n  if (parsedURL.hostname === \"localhost\") {\n    return true;\n  }\n\n  return false;\n}\n"]}